<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>
<h:head></h:head>
<f:view>
    <h:body>

        <h:form>
            <ul>
                <ui:repeat value="#{catalogBean.categoryTypes}" var="categoryType">
                    <li>#{categoryType.categoryName}, #{categoryType.categoryPropertyLabel}
                        <ul>
                            <ui:repeat value="#{categoryType.forestsByCategoryTypeId}" var="category">
                                <li>#{category.usersByUserId}, #{category.height}
                                    <h:commandButton value="REMOVE" action="#{catalogBean.removeForest(category)}"/>
                                    <ul>
                                        <ui:repeat value="#{category.elvesByForestId}" var="element">
                                            <li>#{element.name}, #{element.power}, #{element.arrowsCount}, #{element.arrowType}
                                                <h:commandButton value="REMOVE" action="#{catalogBean.removeElf(element)}"/>
                                            </li>
                                        </ui:repeat>
                                    </ul>
                                </li>
                            </ui:repeat>
                        </ul>
                    </li>
                </ui:repeat>
            </ul>
        </h:form>
    </h:body>

</f:view>
<h:link value="add" outcome="add-category.xhtml"/><br/>
<h:link value="user" outcome="user.xhtml"/><br/>

<form action="${pageContext.request.contextPath}/client/logout">
    <input type="submit" name="LOGOUT"/>
</form>

</html>
